{% set is_logged_in = is_granted('IS_AUTHENTICATED_FULLY') %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Conventio - Conventions de Stage{% endblock %}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>‚ö´Ô∏è</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">

    {# Assurez-vous que le CSS et le JS de Bootstrap sont charg√©s via votre importmap #}
    {% block javascripts %}
        {% block importmap %}{{ importmap('app') }}{% endblock %}
    {% endblock %}

    {% block stylesheets %}
        {# Vous pouvez ajouter ici votre CSS personnalis√© si besoin #}
    {% endblock %}
</head>
<body>
{% block body %}

    {# --------------------------------------------------------------------- #}
    {# NAVIGATION BAR BOOTSTRAP 5 (Non fix√©e et avec marges lat√©rales) #}
    {# Remplacement de 'fixed-top' et 'container-fluid' par 'container' #}
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3">
        <div class="container">
            {# LOGO / MARQUE #}
            <a href="{{ path('app_home') }}" class="navbar-brand">
                <span class="fw-bold text-dark">Conventio</span>
            </a>

            {# BOUTON POUR MOBILE (Hamburger) #}
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavActions" aria-controls="navbarNavActions" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            {# √âL√âMENTS DE NAVIGATION ET BOUTONS √Ä DROITE #}
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavActions">
                <ul class="navbar-nav align-items-center">

                    {% if not is_logged_in %}
                        {# Liens d'Inscription #}
                        <li class="nav-item me-3 mb-2 mb-lg-0">
                            <a href="{{ path('app_register_student') }}" class="nav-link text-muted">√âtudiant</a>
                        </li>
                        <li class="nav-item me-3 mb-2 mb-lg-0">
                            <a href="{{ path('app_register_professor') }}" class="nav-link text-muted">Professeur</a>
                        </li>
                        {# Bouton Se connecter #}
                        <li class="nav-item">
                            <a href="{{ path('app_login') }}" class="btn btn-primary shadow-sm">Se connecter</a>
                        </li>
                    {% else %}
                        {# Bouton Se d√©connecter #}
                        <li class="nav-item">
                            <a href="{{ path('app_logout') }}" class="btn btn-outline-danger">Se d√©connecter</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    {# --------------------------------------------------------------------- #}

    {# Le div d'espacement pour l'ancienne navbar fixe a √©t√© supprim√© #}


    {# --------------------------------------------------------------------- #}
    {# BLOC CONTENT : Ce contenu sera affich√© par d√©faut ou remplac√© par les pages enfants #}
    {# --------------------------------------------------------------------- #}
    {% block content %}
        <main class="container-fluid d-flex align-items-center justify-content-center vh-100 py-5">
            <div class="row w-100 two-column-layout align-items-center justify-content-center">

                {# Colonne de Contenu (La Carte) #}
                <div class="col-12 col-lg-6 content-side order-2 order-lg-1">
                    <div class="card border-secondary mb-3 mx-auto shadow-lg" style="max-width: 30rem;">

                        <div class="card-header bg-secondary text-white">
                            <h1 class="h4 mb-0">Bienvenue sur Conventio üëã</h1>
                        </div>

                        <div class="card-body text-secondary p-4 p-md-5">
                            <h5 class="card-title text-dark">Simplifiez la gestion de vos Conventions de Stage en quelques clics.</h5>
                            <p class="card-text description mt-3">
                                Que vous soyez √©tudiant, professeur ou responsable d'entreprise,
                                notre plateforme centralise tous les documents et le suivi n√©cessaire
                                pour des stages r√©ussis.
                            </p>
                            <a href="{{ path('app_register_student') }}" class="btn btn-primary btn-lg cta-button mt-4">Commencer maintenant</a>
                        </div>
                    </div>
                </div>

                {# Colonne du Logo/Image #}
                <div class="col-12 col-lg-6 logo-side order-1 order-lg-2 text-center mb-4 mb-lg-0">
                    <div class="logo-wrapper p-3">
                        <img src="{{ asset('img/Conventio.png') }}" alt="Logo de Conventio" class="main-illustration img-fluid" style="max-height: 40vh;">
                    </div>
                </div>

            </div>
        </main>
    {% endblock %}
    {# --------------------------------------------------------------------- #}

{% endblock %}
</body>
</html>
