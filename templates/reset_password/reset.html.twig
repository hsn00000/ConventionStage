{% extends 'base.html.twig' %}

{% block title %}Réinitialiser le mot de passe{% endblock %}

{% block body %}
    <div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
        <div class="card shadow-lg" style="width: 400px;">
            <div class="card-body">

                <h1 class="h4 text-center mb-4">Réinitialiser le mot de passe</h1>

                {{ form_start(resetForm) }}

                {# Champ 1 : Nouveau mot de passe #}
                <div class="mb-3">
                    {# CORRECTION ICI : on utilise .plainPassword #}
                    {{ form_label(resetForm.plainPassword.first, 'Nouveau mot de passe') }}
                    {{ form_widget(resetForm.plainPassword.first, {'attr': {'class': 'form-control', 'placeholder': 'Entrez le nouveau mot de passe'}}) }}
                    <div class="text-danger small">
                        {{ form_errors(resetForm.plainPassword.first) }}
                    </div>
                </div>

                {# Champ 2 : Confirmation #}
                <div class="mb-3">
                    {# CORRECTION ICI : on utilise .plainPassword #}
                    {{ form_label(resetForm.plainPassword.second, 'Confirmer le mot de passe') }}
                    {{ form_widget(resetForm.plainPassword.second, {'attr': {'class': 'form-control', 'placeholder': 'Répétez le mot de passe'}}) }}
                    <div class="text-danger small">
                        {{ form_errors(resetForm.plainPassword.second) }}
                    </div>
                </div>

                {# Erreurs globales du champ plainPassword #}
                <div class="text-danger mb-3">
                    {{ form_errors(resetForm.plainPassword) }}
                </div>

                <button class="btn btn-primary w-100" type="submit">Réinitialiser</button>

                {{ form_end(resetForm) }}

            </div>
        </div>
    </div>
{% endblock %}
