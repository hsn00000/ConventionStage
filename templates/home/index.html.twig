{% extends 'base.html.twig' %}

{% block title %}Accueil Conventio - Simplifiez vos Conventions de Stage{% endblock %}

{% block content %}
    {# HERO SECTION - Style SaaS moderne, centr√© verticalement #}
    <div class="bg-light-subtle py-5" style="min-height: 90vh; display: flex; align-items: center;">
        <div class="container-fluid" style="max-width: 1200px;">
            <div class="row align-items-center justify-content-center">

                {# Contenu Textuel et CTA (Gauche) #}
                <div class="col-12 col-lg-6 text-center text-lg-start p-4 p-lg-5">

                    {# Badge de bienvenue subtil #}
                    <span class="badge rounded-pill bg-primary-subtle text-primary mb-3 text-uppercase fw-bold">
                        Plateforme de Gestion de Stages
                    </span>

                    {# Titre principal accrocheur (H√©ro) #}
                    <h1 class="display-4 fw-bold text-dark mb-4">
                        G√©rez vos <span class="text-primary">Conventions de Stage</span> simplement.
                    </h1>

                    {# Sous-titre/Description #}
                    <p class="lead text-muted mb-5">
                        Notre plateforme centralise le processus de cr√©ation, signature et suivi de toutes vos conventions. Con√ßu pour les √©tudiants, professeurs et entreprises.
                    </p>

                    {# Boutons CTA (Logique conditionnelle mise √† jour) #}
                    <div class="d-grid gap-3 d-sm-flex justify-content-center justify-content-lg-start">

                        {# 1. Utilisateur NON CONNECT√â : Affiche tous les liens d'inscription #}
                        {% if not is_granted('IS_AUTHENTICATED_FULLY') %}
                            {# CTA Primaire : Inscription √âtudiant #}
                            <a href="{{ path('app_student_contract_init') }}" class="btn btn-primary btn-lg px-4 me-sm-3 fw-bold shadow-lg">
                                Commencer ma Convention
                            </a>
                            {# CTA Secondaire : Inscription Professeur #}
                            <a href="{{ path('app_register_professor') }}" class="btn btn-outline-secondary btn-lg px-4 shadow-sm">
                                Espace Professeur
                            </a>

                            {# 2. Utilisateur CONNECT√â EN TANT QU'√âTUDIANT : Affiche seulement le bouton Convention #}
                        {% elseif is_granted('ROLE_STUDENT') %}
                            {# CTA Primaire : Commencer / Continuer Convention #}
                            <a href="{{ path('app_student_contract_init') }}" class="btn btn-primary btn-lg px-4 me-sm-3 fw-bold shadow-lg">
                                Commencer ma Convention
                            </a>

                            {# 3. Utilisateur CONNECT√â EN TANT QUE PROFESSEUR : Affiche seulement le bouton Espace Professeur (Dashboard) #}
                        {% elseif is_granted('ROLE_PROFESSOR') %}
                            {# CTA Primaire : Espace Professeur (Dashboard) #}
                            {# Attention : J'utilise ici la route que nous allons cr√©er √† l'√©tape suivante : app_professor_dashboard #}
                            <a href="{{ path('app_professor_show', {'id': app.user.id}) }}" class="btn btn-primary btn-lg px-4 me-sm-3 fw-bold shadow-lg">
                                Acc√©der au Dashboard Professeur
                            </a>

                        {% endif %}
                    </div>

                </div>

                {# Illustration (Droite) #}
                <div class="col-12 col-lg-6 text-center p-4 p-lg-5 d-none d-lg-block">
                    <img
                        src="{{ asset('img/Conventio.png') }}"
                        alt="Illustration de Convention Stage"
                        class="img-fluid shadow-lg rounded-4"
                        style="max-height: 450px; border: 1px solid rgba(0, 123, 255, 0.2);"
                    >
                </div>

            </div>
        </div>
    </div>

    {# SECTION "AVANTAGES" - Utilisation de l'espace blanc et d'ic√¥nes simples (emojis) #}
    <section class="container py-5 my-5" style="max-width: 1000px;">
        <h2 class="text-center mb-2 text-dark fw-bold">Une solution compl√®te pour tous</h2>
        <p class="text-center text-muted mb-5 lead">Travaillez ensemble, plus vite, sans papier.</p>
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="mb-3 mx-auto text-primary" style="font-size: 3rem;">
                    ‚è±Ô∏è
                </div>
                <h3 class="h5 fw-bold text-dark">Gain de Temps</h3>
                <p class="text-muted">Cr√©ez et envoyez une convention en moins de 5 minutes gr√¢ce au pr√©-remplissage des informations.</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="mb-3 mx-auto text-primary" style="font-size: 3rem;">
                    üîí
                </div>
                <h3 class="h5 fw-bold text-dark">S√©curit√© & L√©galit√©</h3>
                <p class="text-muted">Stockage s√©curis√©, signature √©lectronique (futur) et conformit√© totale avec le RGPD.</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="mb-3 mx-auto text-primary" style="font-size: 3rem;">
                    ü§ù
                </div>
                <h3 class="h5 fw-bold text-dark">Simplicit√© d'Acc√®s</h3>
                <p class="text-muted">Chaque partie prenante (√©tudiant, tuteur, coordinateur) dispose d'un espace d√©di√©.</p>
            </div>
        </div>
    </section>
{% endblock %}
